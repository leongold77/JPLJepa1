import os
from moviepy.video.io.VideoFileClip import VideoFileClip

# Folder containing videos
folder_path = '/home/leon-gold/Downloads/TrialMoonwalk/New Sim Classes/carry(1)'

# Function to split video into two parts
def split_video(video_path, output_dir):
    with VideoFileClip(video_path) as video:
        duration = video.duration
        # Split the video into two parts
        first_part = video.subclip(0, duration / 2)
        second_part = video.subclip(duration / 2, duration)
        
        # Save the two parts
        base_name = os.path.basename(video_path)
        name, ext = os.path.splitext(base_name)
        
        first_part.write_videofile(os.path.join(output_dir, f"{name}_part1{ext}"), codec="libx264")
        second_part.write_videofile(os.path.join(output_dir, f"{name}_part2{ext}"), codec="libx264")

# Find the shortest video in the folder
min_duration = float('inf')
video_files = [f for f in os.listdir(folder_path) if f.endswith(('.mp4', '.avi', '.mov'))]

for video_file in video_files:
    video_path = os.path.join(folder_path, video_file)
    with VideoFileClip(video_path) as video:
        min_duration = min(min_duration, video.duration)

# Check if the shortest video is longer than 4 seconds
if min_duration > 0.5:
    # Create output directory
    output_dir = os.path.join(folder_path, 'split_videos')
    os.makedirs(output_dir, exist_ok=True)
    
    # Split all videos in the folder
    for video_file in video_files:
        video_path = os.path.join(folder_path, video_file)
        split_video(video_path, output_dir)
    print("All videos have been split.")
else:
    print("No videos were split because the shortest video is less than or equal to 4 seconds.")































































































































































































































































































































































































































































































































































































































































































































































































































